# Tasks
- Handle trains running into washed out bridges
- Draw washed out bridges
- Handle train accidents
- Stock broker: print ownership of AI stock
- Way we changed random things (e.g. track maintenance) isn't right
  - Need to scale up to more track than 100% of original game
- Deal with region-based, duplicate tile to pixel mapping
- Check default state of development_map and block_map
- Make sure money gets deducted for new engine
  - Also for new train
  - Also for station, upgrade etc
- What happens when we delete a station and a train is heading there?
- Check computation of wait time
- F10 for survey
- cursor
- Refactor modal_menu: give it a 4th last type, move to its own module
  - Also the model_menu handler
- Refactor msgbox: shouldn't need so many args?
- Check /2 for different things with money (e.g. pay)
- Check if we need to loop in _update_train (print out if we ever do multiple updates)
- Update_train: handle freight class priority movement
- Could division by 2 for money be to get a little more space in the bits?
- Bug:
  - Delivery + priority pickup: no delivery message
  - Can't change light from f2/f3
  - Need better feedback for clicking on menu
  - Create a train with no station: msgbox to build a station first
  - New train doesn't pick up stuff from starting station
  - Clicking on map during train creation crashes
  - First engines use one-chimney img. Check in code.
  - Where does smoke originate? Check in code.
  - Smoke seems to go in different direction from game
  - After load, trains are stuck
  - joining a track from another track either refuses or crashes
  - Going into negative should be red money

# Tasks
- Can keep building into minus
- Rivers at land edge don't look good
- Harbors near river should be closed in
- AI now established too early
- Upgrade bridge only when over bridge
- Sound
- Handle > 32 trains with some visual display
  - arrows?
  - scroll bar?
- Selecting zoom with mouse opens msgbox to choose center
- Animate zoom transition
- For playback, use list of variants, not the current system
  - Deletions mess it up
- Can't build within 5 of enemy station
- Rate war:
  - can't build facilities
- Start menu:
  - See if we can support the original menu colors (use menu images from original)
  - Make menu highlight go all the way (solved by same solution)
  - Select default value
- History: does it include anything from the current period?
  - No
- Animation: move faster by default
- History depends on a lot of present data being relevant for past. Check.
  - e.g. company being dissolved.
  - We can do a much cleaner job with dedicated history stuff.
- Efficiency Report: check difference between ton-miles delivered and ton-miles traveled
- Train income: check multiple pages of trains work well
- Why divide lifetime train money by 2? Makes some sense for 2-year fiscal period, but lifetime?
- Check that active_station only works for 20 years per station
- Move block_map and track_graph to player?
- Can't rebuild bridge under repair
- Allow upgrading station while keeping station data
- Stock broker: print ownership of AI stock
- Way we changed random things (e.g. track maintenance) isn't right
  - Need to scale up to more track than 100% of original game
- Check default state of development_map and block_map
- What happens when we delete a station and a train is heading there?
- Check computation of wait time
- cursor fix?
  - software cursor?
- Check if we actually need to loop in _update_train (print out if we ever do multiple updates)
  - I think we do for high speeds
- Update_train: handle freight class priority movement
  - Data structure sorted by priority?
- New stations should have double rates for one fiscal period.
- New train should ask where we want to build
- Bug:
  - Speed record set too easily
  - Dismiss build train animation with enter
  - Station resource window doesn't appear when station close to edge of window.
  - New train crashes into old one if one segment
  - Year doesn't switch at end of December.
    - May be in original game too
  - Fiscal end stock eval: msgbox weird size thing
  - 2 stations: 1 station not being delivered to?
  - B and P in priority shipment are off left by one
  - Station screen has name in wrong place
  - Can't upgrade station to new station
  - Animation: minor bugs remain
    - e.g. missing left train in title
  - Delivery + priority pickup: no delivery message
  - Can't change station light from f2/f3
  - Create a train with no station: msgbox to build a station first
  - New train doesn't pick up stuff from starting station
    - this may be normal behavior
  - Clicking on map during train creation crashes
  - Where does smoke originate? Check in code.
  - Smoke seems to go in different direction from game
  - joining a track from another track either refuses or crashes
  - Going into negative should be red money
    I think fixed
 
- Post 1.0
  - Add maps from Deluxe
  - Supporting hi-res might involve making a proper UI system
    - Or just scale modal windows somewhat
    - windows holding widgets with focus
    - can be laid out properly
    - can hold current menu/msgbox stuff


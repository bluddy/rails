# Tasks
- Start menu: see if we can support the original menu colors
- History: does it include anything from the current period?
- History depends on a lot of present data being relevant for past. Check.
  - e.g. company being dissolved.
  - We can do a much cleaner job with dedicated history stuff.
- Tile dev: handle end of period stuff
- Update map texture when updating map
- Fancy paper announcement of new player.
- Handle track removal: messes up history
- Efficiency Report: check difference between ton-miles delivered and ton-miles traveled
- Train income: check multiple pages of trains work well
- Why divide lifetime train money by 2? Makes some sense for 2-year fiscal period, but lifetime?
- Fonts: change to variants
- Menu/msgbox: use Make() to get rid of 'state
- Building into an ai station
- Rate war loss
- Player loss (fired), AI company dissolved
- Check that active_station only works for 20 years per station
- Move block_map and track_graph to player
- Can't rebuild bridge under repair
- Missing:
  - Rate war info
  - driven out of town animation
  - Small things here and there (look through code)
- Straddle station updates so they're smaller and they don't seem as coordinated, like in game.
- Allow upgrading station while keeping station data
- Handle year end messages
- Stock broker: print ownership of AI stock
- Way we changed random things (e.g. track maintenance) isn't right
  - Need to scale up to more track than 100% of original game
- Check default state of development_map and block_map
- What happens when we delete a station and a train is heading there?
- Check computation of wait time
- F10 for survey
- cursor
- Check /2 for different things with money (e.g. pay)
- Check if we need to loop in _update_train (print out if we ever do multiple updates)
- Update_train: handle freight class priority movement
  - Data structure sorted by priority?
- New stations should have double rates for one fiscal period.
- Bug:
  - Year doesn't switch at end of December.
  - Fiscal end stock eval: msgbox weird size thing
  - AI companies msgbox is off
  - Check when we beat train speed record for first time. Shouldn't be for any speed.
  - AIs don't seem to get created.
  - 2 stations: 1 station not being delivered to.
  - B and P in priority shipment are off left by one
  - Fancy paper: press any key is too high
  - Station screen has name in wrong place
  - Can't upgrade station
  - Animation: old timing issues
  - Delivery + priority pickup: no delivery message
  - Can't change light from f2/f3
  - Need better feedback for clicking on menu
  - Create a train with no station: msgbox to build a station first
  - New train doesn't pick up stuff from starting station
    - this may be normal
  - Clicking on map during train creation crashes
  - First engines use one-chimney img. Check in code.
  - Where does smoke originate? Check in code.
  - Smoke seems to go in different direction from game
  - joining a track from another track either refuses or crashes
  - Going into negative should be red money
 
